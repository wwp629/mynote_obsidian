---
tags:
  - 系统/Windows
  - 网络/SMB
  - 教程/配置
aliases:
  - Win11 SMB共享
  - Windows 11 文件共享
---

由于 Windows 11 推荐使用 PIN 码登录，传统的基于账户密码的 SMB 共享可能会遇到验证问题。本教程通过启用不安全的来宾登录（Guest Access）来实现免密访问共享文件夹。

> [!NOTE] 关于 Windows 家庭版
> Windows 家庭版不包含本地组策略编辑器 (`gpedit.msc`)，相关设置需要通过修改注册表完成。

## Step 1: 修改本地组策略

1.  按 `Win + R`，输入 `gpedit.msc` 并回车，打开本地组策略编辑器。
2.  **禁用数字签名**：
    -   **路径**：`计算机配置` -> `Windows 设置` -> `安全设置` -> `本地策略` -> `安全选项`
    -   找到并 **禁用** 以下两个策略：
        -   `Microsoft 网络服务器: 对通信进行数字签名(始终)`
        -   `Microsoft 网络客户端: 对通信进行数字签名(始终)`
    ![[image 14.png]]
3.  **启用不安全的来宾登录**：
    -   **路径**：`计算机配置` -> `管理模板` -> `网络` -> `Lanman 工作站`
    -   找到并 **启用** `启用不安全的来宾登录` 策略。
    ![[image 1 5.png]]
4.  完成修改后，**重启电脑** 使设置生效。

## Step 2: 调整高级共享设置

1.  进入 `设置` -> `网络和Internet` -> `高级网络设置` -> `高级共享设置`。
2.  确保以下选项已正确配置：
    -   **开启** `网络发现`
    -   **勾选** `自动设置网络连接的设备`
    -   **开启** `文件和打印机共享`
    -   **关闭** `密码保护的共享`
![[image 3 4.png]]

## Step 3: 设置共享文件夹

1.  右键点击需要共享的文件夹，选择 **属性**，进入 **共享** 选项卡。
2.  点击 **共享...**，在下拉菜单中选择 `Everyone`，点击添加，然后点击共享。
3.  返回属性窗口，点击 **高级共享...**，然后点击 **权限**。
4.  选择 `Everyone`，并根据需要为其分配权限（如：读取、更改、完全控制）。
![[image 2 5.png]]

## Step 4: 访问共享文件夹

配置完成后，其他设备可通过 IP 地址访问共享文件夹，无需密码。

-   **Windows**: 在文件资源管理器地址栏输入 `\\<IP地址>\<共享文件夹名称>`
-   **macOS**: 在 Finder 中，前往服务器 `smb://<IP地址>/<共享文件夹名称>`

如果系统提示选择账户，请选择以来宾 (Guest) 身份访问。

> [!WARNING] 安全风险
> 此方法允许任何在同一局域网下的设备免密访问您的共享文件夹，存在安全风险。请仅在受信任的内部网络环境中使用。