---
tags:
  - Android/Testing
  - Dev/ADB
aliases:
  - Android应用CPU占用率测试
  - ADB Top命令详解
---

通过 `adb shell top` 命令可以实时监控安卓设备上各进程的 CPU 和内存使用情况。

### 前提条件
- 已正确安装并配置好 ADB 环境。
- 目标 App 正在设备上运行。

### 操作步骤
1.  在 Windows CMD 或终端中执行以下命令：
    `adb shell top`
2.  命令执行后，终端将实时刷新显示各进程的资源占用情况。
3.  在列表中找到目标 App 的包名（例如 `com.dahangqi.main`）即可查看其性能数据。

![[image 2.png]]

### 结果解析
- **PID**: 进程 ID
- **USER**: 进程所属用户
- **PR**: 进程优先级
- **NI**: 进程调度优先级 (Nice 值)
- **VIRT**: 虚拟内存使用量
- **RES**: 常驻内存使用量 (物理内存)
- **SHR**: 共享内存使用量
- **S**: 进程状态 (R=运行中, S=睡眠中, Z=僵尸进程等)
- **%CPU**: CPU 使用率
- **%MEM**: 内存使用率
- **TIME+**: 进程运行总时间
- **ARGS**: 进程的启动命令和参数

### 关注指标
- **`%CPU`**: CPU 使用率。
  > [!NOTE] 注意
  > `top` 命令显示的 CPU 使用率是相对于**单个核心**的。在多核设备上，总占用率需要综合考虑。
- **`%MEM`**: 内存使用率。

**测试要点**: 建议分别记录并对比 App 在**前台运行**和**后台运行**时的 `%CPU` 和 `%MEM` 数据。